<?php
/** @var \Rissc\Printformer\Block\Catalog\Product\View\Printformer $block */
$hasAnyPrintformerCapability = $block->isUploadProduct() || $block->isEditorProduct() || $block->isPersonalizationProduct() || $block->isUploadAndEditorProduct();
?>

<?php if($block->getProduct()->isSalable() && $hasAnyPrintformerCapability): ?>
    <div class="printformer-actions box-tocart">
    <?php if($block->isEditorProduct() || $block->isPersonalizationProduct()): ?>
        <?php $buttonTitle = $block->getButtonText() ?>
        <button style="display:none;" id="printformer-edit-button" type="button" data-pf-masterid="<?php echo $block->getMasterId(); ?>" data-pf-type="editor" data-pf-intent="customize" class="printformer-preselect action primary tocart <?php /* @escapeNotVerified */ echo $block->getButtonCss() ?>">
            <span><?php /* @escapeNotVerified */ echo __($buttonTitle) ?></span>
        </button>
    <?php endif; ?>

    <?php if($block->isUploadAndEditorProduct() || $block->isUploadProduct()) : ?>
        <?php
        if($block->isUploadAndEditorProduct()) {
            $buttonTitle = 'Upload + Print';
        } else {
            $buttonTitle = 'Upload';
        }
        ?>
        <button style="display:none;" id="printformer-upload-button" type="button" data-pf-masterid="<?php echo $block->getMasterId(); ?>" data-pf-type="upload" data-pf-intent="<?php echo ($block->isUploadProduct() ? 'upload' : 'upload-and-editor'); ?>" class="printformer-preselect action primary tocart <?php /* @escapeNotVerified */ echo $block->getButtonCss() ?>">
            <span><?php /* @escapeNotVerified */ echo __($buttonTitle) ?></span>
        </button>
    <?php endif; ?>
    </div>

    <div id="printformer-editor-main" title="<?php /* @escapeNotVerified */ echo $block->getProduct()->getName() ?>">
    </div>
    <div id="printformer-editor-close">
        <p><?php echo /* @escapeNotVerified */ __($block->getCloseNoticeText()) ?></p>
    </div>
    <?php if ($block->isFormatChangeNotice()): ?>
        <div id="printformer-editor-notice">
            <p><?php echo /* @escapeNotVerified */ __($block->getFormatNoticeText()) ?></p>
        </div>
    <?php endif; ?>
<?php endif;?>
